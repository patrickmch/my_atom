!function(a,b){function c(a){return"undefined"==typeof a}function d(d){function e(b){if(!x)return"";try{var c=function(){try{return new a.XMLHttpRequest}catch(b){return new a.ActiveXObject("Microsoft.XMLHTTP")}},d=c();return d.open("GET",b,!1),d.send(""),d.responseText}catch(e){return""}}function f(a){if(!w.hasOwnProperty(a)){var c="";-1!==a.indexOf(b.domain)&&(c=e(a)),w[a]=c?c.split("\n"):[]}return w[a]}function g(a,b){var d,e=/function ([^(]*)\(([^)]*)\)/,g=/['"]?([0-9A-Za-z$_]+)['"]?\s*[:=]\s*(function|eval|new Function)/,h="",i=10,k=f(a);if(!k.length)return j;for(var l=0;i>l;++l)if(h=k[b-l]+h,!c(h)){if(d=g.exec(h))return d[1];if(d=e.exec(h))return d[1]}return j}function h(a,b){var d=f(a);if(!d.length)return null;var e=[],g=Math.floor(y/2),h=g+y%2,i=Math.max(0,b-g-1),j=Math.min(d.length,b+h-1);b-=1;for(var k=i;j>k;++k)c(d[k])||e.push(d[k]);return e.length>0?e:null}function i(a){return a.replace(/[\-\[\]{}()*+?.,\\\^$|#]/g,"\\$&")}function k(a){return i(a).replace("<","(?:<|&lt;)").replace(">","(?:>|&gt;)").replace("&","(?:&|&amp;)").replace('"','(?:"|&quot;)').replace(/\s+/g,"\\s+")}function l(a,b){for(var c,d,e=0,g=b.length;g>e;++e)if((c=f(b[e])).length&&(c=c.join("\n"),d=a.exec(c)))return{url:b[e],line:c.substring(0,d.index).split("\n").length,column:d.index-c.lastIndexOf("\n",d.index)-1};return null}function m(a,b,c){var d,e=f(b),g=new RegExp("\\b"+i(a)+"\\b");return c-=1,e&&e.length>c&&(d=g.exec(e[c]))?d.index:null}function n(c){for(var d,e,f,g,h=[a.location.href],j=b.getElementsByTagName("script"),m=""+c,n=/^function(?:\s+([\w$]+))?\s*\(([\w\s,]*)\)\s*\{\s*(\S[\s\S]*\S)\s*\}\s*$/,o=/^function on([\w$]+)\s*\(event\)\s*\{\s*(\S[\s\S]*\S)\s*\}\s*$/,p=0;p<j.length;++p){var q=j[p];q.src&&h.push(q.src)}if(f=n.exec(m)){var r=f[1]?"\\s+"+f[1]:"",s=f[2].split(",").join("\\s*,\\s*");d=i(f[3]).replace(/;$/,";?"),e=new RegExp("function"+r+"\\s*\\(\\s*"+s+"\\s*\\)\\s*{\\s*"+d+"\\s*}")}else e=new RegExp(i(m).replace(/\s+/g,"\\s+"));if(g=l(e,h))return g;if(f=o.exec(m)){var t=f[1];if(d=k(f[2]),e=new RegExp("on"+t+"=[\\'\"]\\s*"+d+"\\s*[\\'\"]","i"),g=l(e,h[0]))return g;if(e=new RegExp(d),g=l(e,h))return g}return null}function o(a){if(!a.stack)return null;for(var c,d,e=/^\s*at (?:((?:\[object object\])?\S+(?: \[as \S+\])?) )?\(?((?:file|http|https):.*?):(\d+)(?::(\d+))?\)?\s*$/i,f=/^\s*(\S*)(?:\((.*?)\))?@((?:file|http|https).*?):(\d+)(?::(\d+))?\s*$/i,i=a.stack.split("\n"),k=[],l=/^(.*) is undefined$/.exec(a.message),n=0,o=i.length;o>n;++n){if(c=f.exec(i[n]))d={url:c[3],func:c[1]||j,args:c[2]?c[2].split(","):"",line:+c[4],column:c[5]?+c[5]:null};else{if(!(c=e.exec(i[n])))continue;d={url:c[2],func:c[1]||j,line:+c[3],column:c[4]?+c[4]:null}}!d.func&&d.line&&(d.func=g(d.url,d.line)),d.line&&(d.context=h(d.url,d.line)),k.push(d)}return k[0]&&k[0].line&&!k[0].column&&l&&(k[0].column=m(l[1],k[0].url,k[0].line)),k.length?{mode:"stack",name:a.name,message:a.message,url:b.location.href,stack:k,useragent:navigator.userAgent}:null}function p(a){for(var c,d=a.stacktrace,e=/ line (\d+), column (\d+) in (?:<anonymous function: ([^>]+)>|([^\)]+))\((.*)\) in (.*):\s*$/i,f=d.split("\n"),i=[],j=0,k=f.length;k>j;j+=2)if(c=e.exec(f[j])){var l={line:+c[1],column:+c[2],func:c[3]||c[4],args:c[5]?c[5].split(","):[],url:c[6]};if(!l.func&&l.line&&(l.func=g(l.url,l.line)),l.line)try{l.context=h(l.url,l.line)}catch(m){}l.context||(l.context=[f[j+1]]),i.push(l)}return i.length?{mode:"stacktrace",name:a.name,message:a.message,url:b.location.href,stack:i,useragent:navigator.userAgent}:null}function q(c){var d=c.message.split("\n");if(d.length<4)return null;var e,i,j,m,n=/^\s*Line (\d+) of linked script ((?:file|http|https)\S+)(?:: in function (\S+))?\s*$/i,o=/^\s*Line (\d+) of inline#(\d+) script in ((?:file|http|https)\S+)(?:: in function (\S+))?\s*$/i,p=/^\s*Line (\d+) of function script\s*$/i,q=[],r=b.getElementsByTagName("script"),s=[];for(i in r)r.hasOwnProperty(i)&&!r[i].src&&s.push(r[i]);for(i=2,j=d.length;j>i;i+=2){var t=null;if(e=n.exec(d[i]))t={url:e[2],func:e[3],line:+e[1]};else if(e=o.exec(d[i])){t={url:e[3],func:e[4]};var u=+e[1],v=s[e[2]-1];if(v&&(m=f(t.url))){m=m.join("\n");var w=m.indexOf(v.innerText);w>=0&&(t.line=u+m.substring(0,w).split("\n").length)}}else if(e=p.exec(d[i])){var x=a.location.href.replace(/#.*$/,""),y=e[1],z=new RegExp(k(d[i+1]));m=l(z,[x]),t={url:x,line:m?m.line:y,func:""}}if(t){t.func||(t.func=g(t.url,t.line));var A=h(t.url,t.line),B=A?A[Math.floor(A.length/2)]:null;t.context=A&&B.replace(/^\s*/,"")===d[i+1].replace(/^\s*/,"")?A:[d[i+1]],q.push(t)}}return q.length?{mode:"multiline",name:c.name,message:d[0],url:b.location.href,stack:q,useragent:navigator.userAgent}:null}function r(a,b,c,d){var e={url:b,line:c};if(e.url&&e.line){a.incomplete=!1,e.func||(e.func=g(e.url,e.line)),e.context||(e.context=h(e.url,e.line));var f=/ '([^']+)' /.exec(d);if(f&&(e.column=m(f[1],e.url,e.line)),a.stack.length>0&&a.stack[0].url===e.url){if(a.stack[0].line===e.line)return!1;if(!a.stack[0].line&&a.stack[0].func===e.func)return a.stack[0].line=e.line,a.stack[0].context=e.context,!1}return a.stack.unshift(e),a.partial=!0,!0}return a.incomplete=!0,!1}function s(a,c){for(var d,e,f,h=/function\s+([_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*)?\s*\(/i,i=[],k={},l=!1,o=s.caller;o&&!l;o=o.caller)if(o!==t&&o!==z){if(e={url:null,func:j,line:null,column:null},o.name?e.func=o.name:(d=h.exec(o.toString()))&&(e.func=d[1]),f=n(o)){e.url=f.url,e.line=f.line,e.func===j&&(e.func=g(e.url,e.line));var p=/ '([^']+)' /.exec(a.message||a.description);p&&(e.column=m(p[1],f.url,f.line))}k[""+o]?l=!0:k[""+o]=!0,i.push(e)}c&&i.splice(0,c);var q={mode:"callers",name:a.name,message:a.message,url:b.location.href,stack:i,useragent:navigator.userAgent};return r(q,a.sourceURL||a.fileName,a.line||a.lineNumber,a.message||a.description),q}function t(a,b){var c=null;b=null==b?0:+b;try{if(c=p(a))return c}catch(d){if(v)throw d}try{if(c=o(a))return c}catch(d){if(v)throw d}try{if(c=q(a))return c}catch(d){if(v)throw d}try{if(c=s(a,b+1))return c}catch(d){if(v)throw d}return{mode:"failed"}}function u(a){a=(null==a?0:+a)+1;try{throw new Error}catch(b){return t(b,a+1)}}var v=!1,w={},x=d.remoteFetching,y=d.linesOfContext,z=d.tracekitReport;return t.augmentStackTraceWithInitialElement=r,t.guessFunctionName=g,t.gatherContext=h,t.ofCaller=u,t}function e(b){n=n||this;var c=a.location.protocol;0!==c.indexOf("http")&&(c="https:");var d=c+"//"+e.DEFAULT_ENDPOINT;this.options={enabled:!0,endpoint:d,environment:"production",scrubFields:k.copy(e.DEFAULT_SCRUB_FIELDS),checkIgnore:null,logLevel:e.DEFAULT_LOG_LEVEL,reportLevel:e.DEFAULT_REPORT_LEVEL,uncaughtErrorLevel:e.DEFAULT_UNCAUGHT_ERROR_LEVEL,payload:{}},this.lastError=null,this.plugins={},this.parentNotifier=b,this.logger=function(){if(a.console&&"function"==typeof a.console.log){var b=["Rollbar:"].concat(Array.prototype.slice.call(arguments,0));a.console.log(b)}},b&&(b.hasOwnProperty("shimId")?b.notifier=this:(this.logger=b.logger,this.configure(b.options)))}function f(a,b){return function(){var c=b||this;try{return a.apply(c,arguments)}catch(d){c&&c.logger(d)}}}function g(a){if(!a)return["Unknown error. There was no error message to display.",""];var b=a.match(q),c="(unknown)";return b&&(c=b[b.length-1],a=a.replace((b[b.length-2]||"")+c+":",""),a=a.replace(/(^[\s]+|[\s]+$)/g,"")),[c,a]}function h(b){for(var c;c=a._rollbarPayloadQueue.shift();)i(c.endpointUrl,c.accessToken,c.payload,c.callback);b||(p=setTimeout(h,1e3))}function i(b,c,d,e){e=e||function(){};var f=(new Date).getTime();f-r>=6e4&&(r=f,t=0);var g=a._globalRollbarOptions.maxItems,h=a._globalRollbarOptions.itemsPerMinute,i=function(){return!d.ignoreRateLimit&&g>=1&&s>=g},j=function(){return!d.ignoreRateLimit&&h>=1&&t>=h};return i()?void e(new Error(g+" max items reached")):j()?void e(new Error(h+" items per minute reached")):(s++,t++,i()&&n._log(n.options.uncaughtErrorLevel,"maxItems has been hit. Ignoring errors for the remainder of the current page load.",null,{maxItems:g},null,!1,!0),d.ignoreRateLimit&&delete d.ignoreRateLimit,void m.post(b,c,d,function(a,b){return a?e(a):e(null,b)}))}var j="?",k={merge:function(){var a,b,c,d,e,f,g=arguments[0]||{},h=1,i=arguments.length,j=!0;for("object"!=typeof g&&"function"!=typeof g&&(g={});i>h;h++)if(null!==(a=arguments[h]))for(b in a)a.hasOwnProperty(b)&&(c=g[b],d=a[b],g!==d&&(j&&d&&(d.constructor==Object||(e=d.constructor==Array))?(e?(e=!1,f=[]):f=c&&c.constructor==Object?c:{},g[b]=k.merge(f,d)):void 0!==d&&(g[b]=d)));return g},copy:function(a){var b;return"object"==typeof a&&(a.constructor==Object?b={}:a.constructor==Array&&(b=[])),k.merge(b,a),b},parseUriOptions:{strictMode:!1,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},parseUri:function(a){if(!a||"string"!=typeof a&&!(a instanceof String))throw new Error("Util.parseUri() received invalid input");for(var b=k.parseUriOptions,c=b.parser[b.strictMode?"strict":"loose"].exec(a),d={},e=14;e--;)d[b.key[e]]=c[e]||"";return d[b.q.name]={},d[b.key[12]].replace(b.q.parser,function(a,c,e){c&&(d[b.q.name][c]=e)}),d},sanitizeUrl:function(a){if(!a||"string"!=typeof a&&!(a instanceof String))throw new Error("Util.sanitizeUrl() received invalid input");var b=k.parseUri(a);return""===b.anchor&&(b.source=b.source.replace("#","")),a=b.source.replace("?"+b.query,"")},traverse:function(a,b){var c,d,e,f="object"==typeof a,g=[];if(f)if(a.constructor===Object)for(c in a)a.hasOwnProperty(c)&&g.push(c);else if(a.constructor===Array)for(e=0;e<a.length;++e)g.push(e);for(e=0;e<g.length;++e)c=g[e],d=a[c],f="object"==typeof d,a[c]=f?null===d?b(c,d):d.constructor===Object?k.traverse(d,b):d.constructor===Array?k.traverse(d,b):b(c,d):b(c,d);return a},redact:function(a){return a=String(a),new Array(a.length+1).join("*")},uuid4:function(){var a=(new Date).getTime(),b="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(b){var c=(a+16*Math.random())%16|0;return a=Math.floor(a/16),("x"==b?c:7&c|8).toString(16)});return b}},l=JSON,m={XMLHttpFactories:[function(){return new XMLHttpRequest},function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Msxml3.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")}],createXMLHTTPObject:function(){var a,b=!1,c=m.XMLHttpFactories,d=c.length;for(a=0;d>a;a++)try{b=c[a]();break}catch(e){}return b},post:function(a,b,c,d){if("object"!=typeof c)throw new Error("Expected an object to POST");c=l.stringify(c),d=d||function(){};var e=m.createXMLHTTPObject();if(e)try{try{var f=function(){try{f&&4===e.readyState&&(f=void 0,200===e.status?d(null,l.parse(e.responseText)):d("number"==typeof e.status&&e.status>=400&&e.status<600?new Error(e.status.toString()):new Error))}catch(a){var b;b="object"==typeof a&&a.stack?a:new Error(a),d(b)}};e.open("POST",a,!0),e.setRequestHeader&&(e.setRequestHeader("Content-Type","application/json"),e.setRequestHeader("X-Rollbar-Access-Token",b)),e.onreadystatechange=f,e.send(c)}catch(g){if("undefined"!=typeof XDomainRequest){var h=function(){d(new Error)},i=function(){d(new Error)},j=function(){d(null,l.parse(e.responseText))};e=new XDomainRequest,e.onprogress=function(){},e.ontimeout=h,e.onerror=i,e.onload=j,e.open("POST",a,!0),e.send(c)}}}catch(k){d(k)}}};e.NOTIFIER_VERSION="1.2.2",e.DEFAULT_ENDPOINT="api.rollbar.com/api/1/",e.DEFAULT_SCRUB_FIELDS=["pw","pass","passwd","password","secret","confirm_password","confirmPassword","password_confirmation","passwordConfirmation","access_token","accessToken","secret_key","secretKey","secretToken"],e.DEFAULT_LOG_LEVEL="debug",e.DEFAULT_REPORT_LEVEL="debug",e.DEFAULT_UNCAUGHT_ERROR_LEVEL="warning",e.DEFAULT_ITEMS_PER_MIN=60,e.DEFAULT_MAX_ITEMS=0,e.LEVELS={debug:0,info:1,warning:2,error:3,critical:4},a._rollbarPayloadQueue=[],a._globalRollbarOptions={startTime:(new Date).getTime(),maxItems:e.DEFAULT_MAX_ITEMS,itemsPerMinute:e.DEFAULT_ITEMS_PER_MIN};var n,o=d({remoteFetching:!1,linesOfContext:3});e._generateLogFn=function(a){return f(function(){var b=this._getLogArgs(arguments);return this._log(a||b.level||this.options.logLevel||e.DEFAULT_LOG_LEVEL,b.message,b.err,b.custom,b.callback)})},e.prototype._getLogArgs=function(a){for(var b,c,d,g,h,i,j,k=this.options.logLevel||e.DEFAULT_LOG_LEVEL,l=0;l<a.length;++l)j=a[l],i=typeof j,"string"===i?c=j:"function"===i?h=f(j,this):j&&"object"===i&&("Date"===j.constructor.name?b=j:j instanceof Error||j.prototype===Error.prototype||j.hasOwnProperty("stack")||"undefined"!=typeof DOMException&&j instanceof DOMException?d=j:g=j);return{level:k,message:c,err:d,custom:g,callback:h}},e.prototype._route=function(a){var b=this.options.endpoint,c=/\/$/.test(b),d=/^\//.test(a);return c&&d?a=a.substring(1):c||d||(a="/"+a),b+a},e.prototype._processShimQueue=function(a){for(var b,c,d,f,g,h,i,j={};c=a.shift();)b=c.shim,d=c.method,f=c.args,g=b.parentShim,i=j[b.shimId],i||(g?(h=j[g.shimId],i=new e(h)):i=this,j[b.shimId]=i),i[d]&&"function"==typeof i[d]&&i[d].apply(i,f)},e.prototype._buildPayload=function(b,c,d,f,g){var h=this.options.accessToken,i=this.options.environment,j=k.copy(this.options.payload),l=k.uuid4();if(void 0===e.LEVELS[c])throw new Error("Invalid level");if(!d&&!f&&!g)throw new Error("No message, stack info or custom data");var m={environment:i,endpoint:this.options.endpoint,uuid:l,level:c,platform:"browser",framework:"browser-js",language:"javascript",body:this._buildBody(d,f,g),request:{url:a.location.href,query_string:a.location.search,user_ip:"$remote_ip"},client:{runtime_ms:b.getTime()-a._globalRollbarOptions.startTime,timestamp:Math.round(b.getTime()/1e3),javascript:{browser:a.navigator.userAgent,language:a.navigator.language,cookie_enabled:a.navigator.cookieEnabled,screen:{width:a.screen.width,height:a.screen.height},plugins:this._getBrowserPlugins()}},server:{},notifier:{name:"rollbar-browser-js",version:e.NOTIFIER_VERSION}};j.body&&delete j.body;var n={access_token:h,data:k.merge(m,j)};return this._scrub(n.data),n},e.prototype._buildBody=function(a,b,c){var d;return d=b&&"failed"!==b.mode?this._buildPayloadBodyTrace(a,b,c):this._buildPayloadBodyMessage(a,c)},e.prototype._buildPayloadBodyMessage=function(a,b){a||(a=b?l.stringify(b):"");var c={body:a};return b&&(c.extra=k.copy(b)),{message:c}},e.prototype._buildPayloadBodyTrace=function(a,b,c){var d=g(b.message),e=b.name||d[0],f=d[1],h={exception:{"class":e,message:f}};if(a&&(h.exception.description=a||"uncaught exception"),b.stack){var i,j,l,m,n,o,p,q;for(h.frames=[],p=0;p<b.stack.length;++p)i=b.stack[p],j={filename:i.url?k.sanitizeUrl(i.url):"(unknown)",lineno:i.line||null,method:i.func&&"?"!==i.func?i.func:"[anonymous]",colno:i.column},l=m=n=null,o=i.context?i.context.length:0,o&&(q=Math.floor(o/2),m=i.context.slice(0,q),l=i.context[q],n=i.context.slice(q)),l&&(j.code=l),(m||n)&&(j.context={},m&&m.length&&(j.context.pre=m),n&&n.length&&(j.context.post=n)),i.args&&(j.args=i.args),h.frames.push(j);return c&&(h.extra=k.copy(c)),{trace:h}}return this._buildPayloadBodyMessage(e+": "+f,c)},e.prototype._getBrowserPlugins=function(){if(!this._browserPlugins){var b,c,d=a.navigator.plugins||[],e=d.length,f=[];for(c=0;e>c;++c)b=d[c],f.push({name:b.name,description:b.description});this._browserPlugins=f}return this._browserPlugins},e.prototype._scrub=function(a){function b(a,b,c,d,e,f){return b+k.redact(f)}function c(a){var c;if("string"==typeof a)for(c=0;c<h.length;++c)a=a.replace(h[c],b);return a}function d(a,b){var c;for(c=0;c<g.length;++c)if(g[c].test(a)){b=k.redact(b);break}return b}function e(a,b){var e=d(a,b);return e===b?c(e):e}var f=this.options.scrubFields,g=this._getScrubFieldRegexs(f),h=this._getScrubQueryParamRegexs(f);return k.traverse(a,e),a},e.prototype._getScrubFieldRegexs=function(a){for(var b,c=[],d=0;d<a.length;++d)b="\\[?(%5[bB])?"+a[d]+"\\[?(%5[bB])?\\]?(%5[dD])?",c.push(new RegExp(b,"i"));return c},e.prototype._getScrubQueryParamRegexs=function(a){for(var b,c=[],d=0;d<a.length;++d)b="\\[?(%5[bB])?"+a[d]+"\\[?(%5[bB])?\\]?(%5[dD])?",c.push(new RegExp("("+b+"=)([^&\\n]+)","igm"));return c},e.prototype._urlIsWhitelisted=function(a){var b,c,d,e,f,g,h,i,j,k;try{if(b=this.options.hostWhiteList,c=a.data.body.trace,!b||0===b.length)return!0;if(!c)return!0;for(h=b.length,f=c.frames.length,j=0;f>j;j++){if(d=c.frames[j],e=d.filename,"string"!=typeof e)return!0;for(k=0;h>k;k++)if(g=b[k],i=new RegExp(g),i.test(e))return!0}}catch(l){return this.configure({hostWhiteList:null}),this.error("Error while reading your configuration's hostWhiteList option. Removing custom hostWhiteList.",l),!0}return!1},e.prototype._messageIsIgnored=function(a){var b,c,d,e,f,g,h;try{if(f=!1,d=this.options.ignoredMessages,h=a.data.body.trace,!d||0===d.length)return!1;if(!h)return!1;for(b=h.exception.message,e=d.length,c=0;e>c&&(g=new RegExp(d[c],"gi"),!(f=g.test(b)));c++);}catch(i){this.configure({ignoredMessages:null}),this.error("Error while reading your configuration's ignoredMessages option. Removing custom ignoredMessages.")}return f},e.prototype._enqueuePayload=function(b,c,d,e){var f={callback:e,accessToken:this.options.accessToken,endpointUrl:this._route("item/"),payload:b},g=function(){if(e){var a="This item was not sent to Rollbar because it was ignored. This can happen if a custom checkIgnore() function was used or if the item's level was less than the notifier' reportLevel. See https://rollbar.com/docs/notifier/rollbar.js/configuration for more details.";e(null,{err:0,result:{id:null,uuid:null,message:a}})}};if(this._internalCheckIgnore(c,d,b))return void g();try{if(this.options.checkIgnore&&"function"==typeof this.options.checkIgnore&&this.options.checkIgnore(c,d,b))return void g()}catch(h){this.configure({checkIgnore:null}),this.error("Error while calling custom checkIgnore() function. Removing custom checkIgnore().",h)}if(this._urlIsWhitelisted(b)&&!this._messageIsIgnored(b)){if(this.options.verbose){if(b.data&&b.data.body&&b.data.body.trace){var i=b.data.body.trace,j=i.exception.message;this.logger(j)}this.logger("Sending payload -",f)}"function"==typeof this.options.logFunction&&this.options.logFunction(f);try{"function"==typeof this.options.transform&&this.options.transform(b)}catch(h){this.configure({transform:null}),this.error("Error while calling custom transform() function. Removing custom transform().",h)}this.options.enabled&&a._rollbarPayloadQueue.push(f)}},e.prototype._internalCheckIgnore=function(a,b,c){var d=b[0],f=e.LEVELS[d]||0,g=e.LEVELS[this.options.reportLevel]||0;if(g>f)return!0;var h=this.options?this.options.plugins:{};return h&&h.jquery&&h.jquery.ignoreAjaxErrors&&c.body.message?c.body.messagejquery_ajax_error:!1},e.prototype._log=function(a,b,c,d,e,f,g){var h=null;if(c){if(h=c._tkStackTrace?c._tkStackTrace:o(c),c===this.lastError)return;this.lastError=c}var i=this._buildPayload(new Date,a,b,h,d);g&&(i.ignoreRateLimit=!0),this._enqueuePayload(i,f?!0:!1,[a,b,c,d],e)},e.prototype.log=e._generateLogFn(),e.prototype.debug=e._generateLogFn("debug"),e.prototype.info=e._generateLogFn("info"),e.prototype.warn=e._generateLogFn("warning"),e.prototype.warning=e._generateLogFn("warning"),e.prototype.error=e._generateLogFn("error"),e.prototype.critical=e._generateLogFn("critical"),e.prototype.uncaughtError=f(function(a,c,d,e,f,g){if(g=g||null,f&&f.stack)return void this._log(this.options.uncaughtErrorLevel,a,f,g,null,!0);if(c&&c.stack)return void this._log(this.options.uncaughtErrorLevel,a,c,g,null,!0);var h={url:c||"",line:d};h.func=o.guessFunctionName(h.url,h.line),h.context=o.gatherContext(h.url,h.line);var i={mode:"onerror",message:a||"uncaught exception",url:b.location.href,stack:[h],useragent:navigator.userAgent};f&&(i=f._tkStackTrace||o(f));var j=this._buildPayload(new Date,this.options.uncaughtErrorLevel,a,i);this._enqueuePayload(j,!0,[this.options.uncaughtErrorLevel,a,c,d,e,f])}),e.prototype.global=f(function(b){b=b||{},k.merge(a._globalRollbarOptions,b),void 0!==b.maxItems&&(s=0),void 0!==b.itemsPerMinute&&(t=0)}),e.prototype.configure=f(function(a){k.merge(this.options,a)}),e.prototype.scope=f(function(a){var b=new e(this);return k.merge(b.options.payload,a),b}),e.prototype.wrap=function(b,c){var d;if(d="function"==typeof c?c:function(){return c||{}},"function"!=typeof b)return b;if(b._isWrap)return b;if(!b._wrapped){b._wrapped=function(){try{return b.apply(this,arguments)}catch(c){throw c.stack||(c._tkStackTrace=o(c)),c._rollbarContext=d()||{},c._rollbarContext._wrappedSource=b.toString(),a._rollbarWrappedError=c,c}},b._wrapped._isWrap=!0;for(var e in b)b.hasOwnProperty(e)&&(b._wrapped[e]=b[e])}return b._wrapped};var p,q=new RegExp("^(([a-zA-Z0-9-_$ ]*): *)?(Uncaught )?([a-zA-Z0-9-_$ ]*): ");e.processPayloads=function(a){(!p||a)&&h(a)};var r=(new Date).getTime(),s=0,t=0;if(!a._rollbarInitialized){var u=a._rollbarConfig||{},v=u.globalAlias||"Rollbar",w=a[v],x=new e(w);x._processShimQueue(a._rollbarShimQueue||[]),a[v]=x,a._rollbarInitialized=!0,e.processPayloads()}}(window,document);